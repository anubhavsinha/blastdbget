{"name":"blastdbget","tagline":"Download Blast databases from ftp.ncbi.nlm.nih.gov/blast/db, validate, and extract.","body":"# Why\r\nWe want distinct databases versioned by date rather than incremental updates\r\nvia `update_blastdb.pl`. Something like:\r\n```\r\n/home/jmbrown/blast\r\n├── 2015-02-01\r\n│   ├── nr.nhr\r\n│   ├── nr.nin\r\n│   └── nr.nnd\r\n├── 2015-01-01\r\n│   ├── nr.nhr\r\n│   ├── nr.nin\r\n│   └── nr.nnd\r\n├── 2014-12-01\r\n│   ├── nr.nhr\r\n│   ├── nr.nin\r\n│   └── nr.nnd\r\n└── latest -> /home/jmbrown/blast/2015-02-01\r\n```\r\n\r\n# Requires\r\n+ python (2.7+) with `click` for argument parsing\r\n+ wget\r\n+ md5sum\r\n+ tar\r\n\r\n# Running\r\n```\r\n$ blastdbget -d 16SMicrobial -d est -d taxdb -d gss_annot $HOME/blast\r\n```\r\n\r\nOutput:\r\n```\r\nInfo      : Using /home/jmbrown/blast as parent directory\r\nInfo      : Communicating with Blast server\r\nInfo      : Found 8 files matching databases: [16SMicrobial, est, taxdb, gss_annot]\r\nInfo      : Downloading 8 files\r\nJobs Ran + Running  [####################################]  100%\r\nInfo      : Validating 4 archives\r\nJobs Ran + Running  [####################################]  100%\r\nInfo      : Extracting 4 archives\r\nJobs Ran + Running  [####################################]  100%\r\nInfo      : Cleaning up tar files\r\nComplete  : Files available at /home/jmbrown/blast/latest\r\n```\r\n\r\nNote: If you want `blastdbcheck` to fully function, you should be grabbing `-d taxdb`.\r\n\r\nNot specifying `-d` will list Blast DBs that are available.\r\n\r\n```\r\n$ python blastdbget.py\r\nInfo      : Communicating with Blast server\r\nUsage     : Set `-d` to an available database:\r\n16SMicrobial\r\nRepresentative_Genomes\r\ncdd_delta\r\nenv_nr\r\nenv_nt\r\nest\r\nest_human\r\nest_mouse\r\nest_others\r\ngss\r\ngss_annot\r\nhtgs\r\nhuman_genomic\r\n...\r\n```\r\n\r\n# Results\r\n```\r\n/home/jmbrown/blast\r\n├── 2015-02-09\r\n│   ├── 16SMicrobial.nhr\r\n│   ├── 16SMicrobial.nin\r\n│   ├── 16SMicrobial.nnd\r\n│   ├── 16SMicrobial.nni\r\n│   ├── 16SMicrobial.nog\r\n│   ├── 16SMicrobial.nsd\r\n│   ├── 16SMicrobial.nsi\r\n│   ├── 16SMicrobial.nsq\r\n│   ├── est.nal\r\n│   ├── gss_annot.00.nhr\r\n│   ├── gss_annot.00.nin\r\n│   ├── gss_annot.00.nnd\r\n│   ├── gss_annot.00.nni\r\n│   ├── gss_annot.00.nog\r\n│   ├── gss_annot.00.nsd\r\n│   ├── gss_annot.00.nsi\r\n│   ├── gss_annot.00.nsq\r\n│   ├── gss.nal\r\n│   ├── taxdb.btd\r\n│   └── taxdb.bti\r\n└── latest -> /home/jmbrown/blast/2015-02-09\r\n```\r\n\r\n# Finish up\r\nSet `BLASTDB` to `latest`.\r\n```\r\nexport BLASTDB=/home/jmbrown/blast/latest\r\n```\r\n\r\nWe do monthly updates:\r\n```\r\n0 0 1 * * blastdbget -t 8 -d nr -d nt -d taxdb /mnt/databases/NCBI/blast\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}